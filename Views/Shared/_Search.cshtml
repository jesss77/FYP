@{
    // Optional: set ViewBag.SearchPlaceholder and ViewBag.SearchCategory before rendering
    var placeholder = ViewBag.SearchPlaceholder ?? "Search...";
    var category = ViewBag.SearchCategory ?? null;
    var inputId = ViewBag.SearchInputId ?? "AdminSearchInput";
}
<div class="settings-header-actions">
    <form method="get" class="admin-search-form" role="search" id="@inputId-form">
        <div class="admin-search-wrapper">
            <input id="@inputId" name="search" value="@ViewBag.Search" class="form-control search-input" placeholder="@placeholder" />
            @if (!string.IsNullOrEmpty(category))
            {
                <input type="hidden" name="category" value="@category" />
            }
            <button type="submit" class="btn btn-outline-secondary search-submit-btn">
                <span class="material-symbols-outlined">search</span>
            </button>
        </div>
    </form>
</div>

@section Scripts {
    <script>
        (function(){
            var form = document.getElementById('@inputId-form');
            var input = document.getElementById('@inputId');
            
            if(!input || !form) return;
            
            // Submit form on Enter key
            input.addEventListener('keypress', function(e){
                if(e.key === 'Enter'){
                    e.preventDefault();
                    form.submit();
                }
            });
        })();
    </script>
}
